<ion-view view-title = "Criar Carona">
  <ion-content class="has-header" ng-controller="rideCtrl">
    <input id="origin-input" name="origin" class="controls" type="text" placeholder="Origem" ng-model="newRide.origin" required>
    <input id="destination-input" name="destiny" class="controls" type="text" placeholder="Destino" ng-model="newRide.destiny" required>
    <app-map id="mapa"></app-map>
    <button ng-click="geoLocation()" ng-model="geolocation" id="findMe" class="button button-icon icon ion-navigate">Find Me</button>

    <div class="padding">
      <h3 ng-show="message.length">{{message}}</h3>
      <p ng-show="form.$submitted && form.origin.$error.required">
        Origem obrigatória!
      </p>
      <p ng-show="form.$submitted && form.destiny.$error.required">
        Destino obrigatório!
      </p>
      <p ng-show="form.$submitted && form.title.$error.required">
        Título obrigatório!
      </p>
      <p ng-show="form.$submitted && form.title.$error.maxlength && form.title.$error.maxlength">
        Título dever ter no máximo 20 caracteres e no mínimo 3 caracteres
      </p>
      <p ng-show="form.$submitted && form.departure_time.$error.required">
        Hora de saída obrigatório!
      </p>
      <p ng-show="form.$submitted && form.total_seats.$error.required">
        Quantidade de vagas obrigatório!
      </p>
      <p ng-show="form.$submitted && form.total_seats.$error.maxlength && form.total_seats.$error.maxlength">
        Dever ter no máximo 4 quantidades de vagas e no mínimo 1
      </p>
      <p ng-show="form.$submitted && form.car_model.$error.required">
        Modelo do carro obrigatório!
      </p>
      <p ng-show="form.$submitted && form.car_model.$error.maxlength && form.car_model.$error.maxlength">
        Modelo dever ter no máximo 20 caracteres e no mínimo 3 caracteres
      </p>
      <p ng-show="form.$submitted && form.car_model.$error.maxlength">
        Cor dever ter no máximo 10 caracteres
      </p>
      <p ng-show="form.$submitted && form.car_model.$error.maxlength">
        Descrição dever ter no máximo 300 caracteres
      </p>
    </div>

    <!-- inserir os ng-model="" com os dados da carona -->
    <form name="form" novalidate>
        <div class="list">
          <label class="item item-input">
              <span class="input-label">Título</span>
              <input ng-model="newRide.title" type="text" name="title" placeholder="O título da sua carona"
              ng-maxlength="20" ng-minlength="3" required />
          </label>
           <label class="item item-input">
              <span class="input-label">Horas</span>
              <input ng-model="newRide.departure_time" name="departure_time" type="time" placeholder="Hora da saida da carona"
              required />
          </label>
          <!--
          <label class="item item-input">
              <span class="input-label">Vagas</span>
              <input ng-model="newRide.total_seats" name="total_seats" max="4" min="1" name="" step="1" type="number"
              ng-maxlength="4" ng-minlength="1" required />
          </label>
          -->
          <label class="item item-input">
              <span class="input-label">Modelo</span>
              <input ng-model="newRide.car_model" name="car_model" type="text" placeholder="O modelo do seu carro"
              ng-maxlength="20" ng-minlength="3" required />
          </label>
          <label class="item item-input">
              <span class="input-label">Cor</span>
              <input ng-model="newRide.color" name="color" type="text" placeholder="A cor do seu veículo"
              ng-maxlength="10" />
          </label>
           <label class="item item-input item-stacked-label">
              <span class="input-label">Descrição</span>
              <textarea ng-model="newRide.description" name="description" cols="24" rows="6" placeholder="Informações adicionais sobre carona"
              ng-maxlength="300"></textarea>
          </label>
           <label class="item item-input item-select">
              <div class="input-label">
                  Vagas
              </div>
                <select>
                  <option selected>1</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                </select>
          </label>
          
       </div>

       <div>
         <ul class="list">
           <li class="item item-toggle">
              Ajuda de Custo
              <label class="toggle toggle-balanced">
                <input type="checkbox" ng-model="newRide.is_subsistence_allowance">
                <div class="track">
                   <div class="handle"></div>
                </div>
              </label>
           </li>
         </ul>
       </div>

        <button class="button button-full button-calm button-outside" ng-click="submitRide(newRide)">
          Salvar
        </button>
    </form>
  </ion-content>
</ion-view>